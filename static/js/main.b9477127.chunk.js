(this.webpackJsonpstarwar=this.webpackJsonpstarwar||[]).push([[0],{127:function(e,t,r){e.exports=r(241)},241:function(e,t,r){"use strict";r.r(t);var a={};r.r(a),r.d(a,"onValidateUser",(function(){return F})),r.d(a,"onLogoutUser",(function(){return G}));var n={};r.r(n),r.d(n,"searchReset",(function(){return se})),r.d(n,"planetListReset",(function(){return ue})),r.d(n,"onSearchPlanets",(function(){return le}));var c=r(0),o=r.n(c),i=r(9),s=r.n(i),u=r(111),l=r(32),p=r(282),m=r(289),E=r(7),d=r(28),f=r.n(d),g=r(37),S=r(25),b=r(283),h=r(277),O=r(276),y=r(273),v=r(285),w=r(5),j=function(e){return{textField:{width:"100%"},button:{float:"none",position:"static",display:"block",margin:"auto",width:"max-content",marginBottom:"32"},parent:{display:"flex",justifyContent:"center",marginTop:"200px"}}},L=r(71),T=r.n(L);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var C=Object(c.memo)(Object(w.a)(j)((function(e){var t=Object(c.useState)({userName:"",password:""}),r=Object(S.a)(t,2),a=r[0],n=r[1],i=Object(c.useState)(!1),s=Object(S.a)(i,2),u=s[0],l=s[1],p=e.isLoggedInError,m=e.onValidateUser,d=e.isLoggedIn,w=e.classes,j=e.history,L=a.userName,C=a.password,_=function(e,t){n(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(r,!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a,Object(E.a)({},t,e)))},I=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L&&C){e.next=3;break}return l("username and password is requried"),e.abrupt("return");case 3:return e.next=5,m(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{container:!0,className:w.parent},o.a.createElement(y.a,{item:!0,xs:12,md:7},o.a.createElement(O.a,{variant:"h4"},"Login")),o.a.createElement(y.a,{item:!0,xs:12,md:7},o.a.createElement(b.a,{id:"user-name",label:"username",className:w.textField,error:!a.userName&&u,value:L,onChange:function(e){return _(e.target.value,"userName")},margin:"normal"})),o.a.createElement(y.a,{item:!0,xs:12,md:7},o.a.createElement(b.a,{type:"password",id:"password",label:"password",className:w.textField,error:!a.password&&u,value:C,onChange:function(e){return _(e.target.value,"password")},margin:"normal"})),o.a.createElement(y.a,{item:!0,xs:12,md:7},o.a.createElement(O.a,{variant:"caption",style:{color:"red"}},p?"username or password is incorrect":u)),d&&j.push("/search"),o.a.createElement(y.a,{item:!0,xs:12,md:7},o.a.createElement(v.a,{pt:2},o.a.createElement(h.a,{disabled:T()(a.userName)||T()(a.password),className:w.button,variant:"contained",color:"primary",onClick:I},"Submit")))))}))),_=r(59),I=r.n(_),A=function(){var e=Object(g.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat("https://swapi.co/api").concat("/people/","?search=").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x={LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT_SUCCESS:"LOGOUT_SUCCESS"},N={SEARCH_PLANETS_INITIATE:"SEARCH_PLANETS_INITIATE",SEARCH_PLANETS_SUCCESS:"SEARCH_PLANETS_SUCCESS",SEARCH_PLANETS_RESET:"SEARCH_PLANETS_RESET",SEARCH_PLANETS_LIST_RESET:"SEARCH_PLANETS_LIST_RESET",SEARCH_PLANETS_FAILURE:"SEARCH_PLANETS_FAILURE"},U=r(108),R=r.n(U),k=function(e,t){return 0===e||!!(e<15&&function(e){return(new Date).getTime()-e<=6e4}(t))},D=function(){return{type:x.LOGIN_FAILURE}},H=function(e,t,r){var a;!function(e,t){return R()(e,(function(e){return e.name===t.userName&&e.birth_year===t.password}))}(e,t)?r(D()):r((a=t,{type:x.LOGIN_SUCCESS,payload:a}))},F=function(e){return function(t,r){A(e.userName).then((function(r){H(r,e,t)})).catch((function(e){t(D())}))}},G=function(){return function(e){e({type:x.LOGOUT_SUCCESS})}},M=r(11),B=r(38);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(r,!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=Object(B.b)((function(e){return{isLoggedInError:e.app.isLoggedInError,isLoggedIn:e.app.isLoggedIn}}),(function(e){return{actions:W({},Object(M.bindActionCreators)(a,e))}}))(Object(c.memo)((function(e){var t=e.isLoggedInError,r=e.actions.onValidateUser,a=e.isLoggedIn,n=e.history;return o.a.createElement(C,{isLoggedIn:a,onValidateUser:r,isLoggedInError:t,history:n})}))),q=r(110),z=r.n(q),$=function(e){return{searchField:{width:"100%"},button:{marginTop:"10px"}}},K=r(17),Q=r.n(K),X=r(278),Y=r(279),Z=r(281),ee=r(280),te=r(286),re=r(287),ae=function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}},ne=Object(M.compose)(Object(w.a)(ae))((function(e){var t=e.classes,r=e.closeHandler,a=e.value,n=o.a.useState(!0),c=Object(S.a)(n,2),i=c[0],s=c[1];return o.a.createElement("div",null,o.a.createElement(te.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:t.modal,open:i,onClose:function(){s(!1),r()},closeAfterTransition:!0,BackdropComponent:re.a,BackdropProps:{timeout:500}},o.a.createElement("div",{className:t.paper},o.a.createElement(X.a,null,o.a.createElement(Y.a,null,o.a.createElement(ee.a,null,o.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},Q()(a,"name")),o.a.createElement(y.a,{container:!0},o.a.createElement(y.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Rotation Period : ",Q()(a,"rotation_period"))),o.a.createElement(y.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Diameter : ",Q()(a,"diameter"))),o.a.createElement(y.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Climate : ",Q()(a,"climate"))),o.a.createElement(y.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Gravity : ",Q()(a,"gravity"))),o.a.createElement(y.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Surface Water : ",Q()(a,"surface_water"))),o.a.createElement(y.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Population : ",Q()(a,"population",0))))))))))})),ce=Object(c.memo)((function(e){var t=e.planets,r=Object(c.useState)(!1),a=Object(S.a)(r,2),n=a[0],i=a[1],s=Object(c.useState)(!1),u=Object(S.a)(s,2),l=u[0],p=u[1];return o.a.createElement(o.a.Fragment,null,t.map((function(e,t){return o.a.createElement(v.a,{key:"planets-".concat(t),mb:2,mt:2},o.a.createElement(X.a,null,o.a.createElement(Y.a,null,o.a.createElement(ee.a,null,o.a.createElement(O.a,{gutterBottom:!0,variant:Q()(e,"population",0)>1e5?"h3":"h5",component:"h2"},Q()(e,"name")))),o.a.createElement(Z.a,null,o.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){!function(e){console.log(e),p(e),i(!0)}(e)}},"ViewDetails"))))})),n&&o.a.createElement(ne,{value:l,closeHandler:function(){i(!1)}}))})),oe=Object(M.compose)(Object(w.a)($)((function(e){var t=e.onSearch,r=e.planets,a=e.classes,n=e.isMaxSearchExeeded,i=e.isLoggedIn,s=e.onLogoutUser,u=e.currentUser,l=e.history,p=Object(c.useCallback)(z()(t,400),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{container:!0},o.a.createElement(y.a,{item:!0,xs:12,md:7},o.a.createElement(b.a,{id:"searchPlanet",label:"Search Planet",className:a.searchField,onChange:function(e){n?alert("Maximum 15 searches can do for a minute"):p(e.target.value,u)},margin:"normal"})),o.a.createElement(y.a,{item:!0,xs:12,md:5,alignContent:"right"},o.a.createElement(v.a,{pt:2},o.a.createElement(h.a,{className:a.button,variant:"contained",color:"primary",onClick:function(){s()}},"Logout")))),!i&&l.push("/"),o.a.createElement(ce,{planets:r}))}))),ie=function(){var e=Object(g.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat("https://swapi.co/api").concat("/planets/","?search=").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){return{type:N.SEARCH_PLANETS_RESET}},ue=function(){return{type:N.SEARCH_PLANETS_LIST_RESET}},le=function(e,t){return function(r,a){var n=a().search,c=n.searchTimeStamp,o=n.searchTimes;if(""!==e){if("Luke Skywalker"!==t.userName&&!k(o,c))return r(se()),void setTimeout((function(){return r(ue())}),c+6e4-(new Date).getTime());r({type:N.SEARCH_PLANETS_INITIATE}),ie(e).then((function(e){var t;r((t=e,{type:N.SEARCH_PLANETS_SUCCESS,payload:t}))})).catch((function(e){r({type:N.SEARCH_PLANETS_FAILURE})}))}else r(ue())}};function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(r,!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee=[{exact:!0,path:"/",component:J},{exact:!0,path:"/search",component:Object(B.b)((function(e){return{planets:e.search.planets,isMaxSearchExeeded:e.search.isMaxSearchExeeded,isLoggedIn:e.app.isLoggedIn,currentUser:e.app.currentUser}}),(function(e){return{actions:me({},Object(M.bindActionCreators)(n,e),{},Object(M.bindActionCreators)(a,e))}}))(Object(c.memo)((function(e){var t=e.actions,r=t.onSearchPlanets,a=t.onLogoutUser,n=e.planets,c=e.isMaxSearchExeeded,i=e.isLoggedIn,s=e.currentUser,u=e.history;return o.a.createElement(oe,{onSearch:r,isMaxSearchExeeded:c,planets:n,isLoggedIn:i,onLogoutUser:a,currentUser:s,history:u})})))}],de=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null),o.a.createElement(p.a,{maxWidth:"md"},o.a.createElement(u.a,null,Ee.map((function(e,t){return o.a.createElement(l.a,{key:t,exact:e.exact,path:e.path,component:e.component})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(239),r(240);var fe=r(113);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(r,!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var be={isLoggedIn:!1,currentUser:{},isLoggedInError:!1},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case x.LOGIN_SUCCESS:return Se({},e,{isLoggedIn:!0,currentUser:t.payload,isLoggedInError:!1});case x.LOGIN_FAILURE:return Se({},e,{isLoggedIn:!1,currentUSer:{},isLoggedInError:!0});case x.LOGOUT_SUCCESS:return Se({},e,{isLoggedIn:!1,currentUSer:{},isLoggedInError:!1});default:return Se({},e)}};function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(r,!0).forEach((function(t){Object(E.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve={planets:[],searchTimeStamp:"",searchTimes:0,showLoader:!1,isMaxSearchExeeded:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case N.SEARCH_PLANETS_INITIATE:return ye({},e,{searchTimeStamp:0===e.searchTimes?(new Date).getTime():e.searchTimeStamp,searchTimes:e.searchTimes+1,showLoader:!0,isMaxSearchExeeded:!1});case N.SEARCH_PLANETS_SUCCESS:return ye({},e,{planets:t.payload,showLoader:!1});case N.SEARCH_PLANETS_FAILURE:return ye({},e,{showLoader:!1});case N.SEARCH_PLANETS_LIST_RESET:return ye({},e,{planets:[],isMaxSearchExeeded:!1});case N.SEARCH_PLANETS_RESET:return ye({},e,{searchTimeStamp:(new Date).getTime()-e.searchTimeStamp>6e4?"":e.searchTimeStamp,searchTimes:(new Date).getTime()-e.searchTimeStamp>6e4?0:e.searchTimes,isMaxSearchExeeded:!0});default:return ye({},e)}},je=Object(M.combineReducers)({app:he,search:we}),Le=[fe.a],Te=M.applyMiddleware.apply(void 0,Le);var Pe=Object(M.createStore)(je,Te);s.a.render(o.a.createElement(B.a,{store:Pe},o.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[127,1,2]]]);
//# sourceMappingURL=main.b9477127.chunk.js.map