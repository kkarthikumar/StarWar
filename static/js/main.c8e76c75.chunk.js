(this.webpackJsonpstarwar=this.webpackJsonpstarwar||[]).push([[0],{126:function(e,t,r){e.exports=r(240)},240:function(e,t,r){"use strict";r.r(t);var a={};r.r(a),r.d(a,"onValidateUser",(function(){return G})),r.d(a,"onLogoutUser",(function(){return M}));var n={};r.r(n),r.d(n,"searchReset",(function(){return ue})),r.d(n,"planetListReset",(function(){return le})),r.d(n,"onSearchPlanets",(function(){return pe}));var c=r(0),o=r.n(c),i=r(9),s=r.n(i),u=r(74),l=r(281),p=r(288),m=r(7),E=r(28),d=r.n(E),f=r(36),g=r(23),S=r(282),b=r(276),O=r(275),h=r(26),y=Object(h.a)(),v=r(272),j=r(284),w=r(5),L=function(e){return{textField:{width:"100%"},button:{float:"none",position:"static",display:"block",margin:"auto",width:"max-content",marginBottom:"32"},parent:{display:"flex",justifyContent:"center",marginTop:"200px"}}},T=r(70),P=r.n(T);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var _=Object(c.memo)(Object(w.a)(L)((function(e){var t=Object(c.useState)({userName:"",password:""}),r=Object(g.a)(t,2),a=r[0],n=r[1],i=Object(c.useState)(!1),s=Object(g.a)(i,2),u=s[0],l=s[1],p=e.isLoggedInError,E=e.onValidateUser,h=e.isLoggedIn,w=e.classes,L=a.userName,T=a.password,_=function(e,t){n(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a,Object(m.a)({},t,e)))},I=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L&&T){e.next=3;break}return l("username and password is requried"),e.abrupt("return");case 3:return e.next=5,E(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{container:!0,className:w.parent},o.a.createElement(v.a,{item:!0,xs:12,md:7},o.a.createElement(O.a,{variant:"h4"},"Login")),o.a.createElement(v.a,{item:!0,xs:12,md:7},o.a.createElement(S.a,{id:"user-name",label:"username",className:w.textField,error:!a.userName&&u,value:L,onChange:function(e){return _(e.target.value,"userName")},margin:"normal"})),o.a.createElement(v.a,{item:!0,xs:12,md:7},o.a.createElement(S.a,{type:"password",id:"password",label:"password",className:w.textField,error:!a.password&&u,value:T,onChange:function(e){return _(e.target.value,"password")},margin:"normal"})),o.a.createElement(v.a,{item:!0,xs:12,md:7},o.a.createElement(O.a,{variant:"caption",style:{color:"red"}},p?"username or password is incorrect":u)),h&&y.push("/search"),o.a.createElement(v.a,{item:!0,xs:12,md:7},o.a.createElement(j.a,{pt:2},o.a.createElement(b.a,{disabled:P()(a.userName)||P()(a.password),className:w.button,variant:"contained",color:"primary",onClick:I},"Submit")))))}))),I=r(58),A=r.n(I),x=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("".concat("https://swapi.co/api").concat("/people/","?search=").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),N={LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT_SUCCESS:"LOGOUT_SUCCESS"},R={SEARCH_PLANETS_INITIATE:"SEARCH_PLANETS_INITIATE",SEARCH_PLANETS_SUCCESS:"SEARCH_PLANETS_SUCCESS",SEARCH_PLANETS_RESET:"SEARCH_PLANETS_RESET",SEARCH_PLANETS_LIST_RESET:"SEARCH_PLANETS_LIST_RESET",SEARCH_PLANETS_FAILURE:"SEARCH_PLANETS_FAILURE"},U=r(108),k=r.n(U),D=function(e,t){return 0===e||!!(e<15&&function(e){return(new Date).getTime()-e<=6e4}(t))},H=function(){return{type:N.LOGIN_FAILURE}},F=function(e,t,r){var a;!function(e,t){return k()(e,(function(e){return e.name===t.userName&&e.birth_year===t.password}))}(e,t)?r(H()):r((a=t,{type:N.LOGIN_SUCCESS,payload:a}))},G=function(e){return function(t,r){x(e.userName).then((function(r){F(r,e,t)})).catch((function(e){t(H())}))}},M=function(){return function(e){e({type:N.LOGOUT_SUCCESS})}},B=r(10),V=r(37);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=Object(V.b)((function(e){return{isLoggedInError:e.app.isLoggedInError,isLoggedIn:e.app.isLoggedIn}}),(function(e){return{actions:J({},Object(B.bindActionCreators)(a,e))}}))(Object(c.memo)((function(e){var t=e.isLoggedInError,r=e.actions.onValidateUser,a=e.isLoggedIn;return o.a.createElement(_,{isLoggedIn:a,onValidateUser:r,isLoggedInError:t})}))),z=r(110),$=r.n(z),K=function(e){return{searchField:{width:"100%"},button:{marginTop:"10px"}}},Q=r(16),X=r.n(Q),Y=r(277),Z=r(278),ee=r(280),te=r(279),re=r(285),ae=r(286),ne=function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}},ce=Object(B.compose)(Object(w.a)(ne))((function(e){var t=e.classes,r=e.closeHandler,a=e.value,n=o.a.useState(!0),c=Object(g.a)(n,2),i=c[0],s=c[1];return o.a.createElement("div",null,o.a.createElement(re.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:t.modal,open:i,onClose:function(){s(!1),r()},closeAfterTransition:!0,BackdropComponent:ae.a,BackdropProps:{timeout:500}},o.a.createElement("div",{className:t.paper},o.a.createElement(Y.a,null,o.a.createElement(Z.a,null,o.a.createElement(te.a,null,o.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},X()(a,"name")),o.a.createElement(v.a,{container:!0},o.a.createElement(v.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Rotation Period : ",X()(a,"rotation_period"))),o.a.createElement(v.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Diameter : ",X()(a,"diameter"))),o.a.createElement(v.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Climate : ",X()(a,"climate"))),o.a.createElement(v.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Gravity : ",X()(a,"gravity"))),o.a.createElement(v.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Surface Water : ",X()(a,"surface_water"))),o.a.createElement(v.a,{item:!0,xs:6},o.a.createElement(O.a,{variant:"caption"},"Population : ",X()(a,"population",0))))))))))})),oe=Object(c.memo)((function(e){var t=e.planets,r=Object(c.useState)(!1),a=Object(g.a)(r,2),n=a[0],i=a[1],s=Object(c.useState)(!1),u=Object(g.a)(s,2),l=u[0],p=u[1];return o.a.createElement(o.a.Fragment,null,t.map((function(e,t){return o.a.createElement(j.a,{key:"planets-".concat(t),mb:2,mt:2},o.a.createElement(Y.a,null,o.a.createElement(Z.a,null,o.a.createElement(te.a,null,o.a.createElement(O.a,{gutterBottom:!0,variant:X()(e,"population",0)>1e5?"h3":"h5",component:"h2"},X()(e,"name")))),o.a.createElement(ee.a,null,o.a.createElement(b.a,{size:"small",color:"primary",onClick:function(){!function(e){console.log(e),p(e),i(!0)}(e)}},"ViewDetails"))))})),n&&o.a.createElement(ce,{value:l,closeHandler:function(){i(!1)}}))})),ie=Object(B.compose)(Object(w.a)(K)((function(e){var t=e.onSearch,r=e.planets,a=e.classes,n=e.isMaxSearchExeeded,i=e.isLoggedIn,s=e.onLogoutUser,u=e.currentUser,l=Object(c.useCallback)($()(t,400),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{container:!0},o.a.createElement(v.a,{item:!0,xs:12,md:7},o.a.createElement(S.a,{id:"searchPlanet",label:"Search Planet",className:a.searchField,onChange:function(e){n?alert("Maximum 15 searches can do for a minute"):l(e.target.value,u)},margin:"normal"})),o.a.createElement(v.a,{item:!0,xs:12,md:5,alignContent:"right"},o.a.createElement(j.a,{pt:2},o.a.createElement(b.a,{className:a.button,variant:"contained",color:"primary",onClick:function(){s()}},"Logout")))),!i&&y.push("/"),o.a.createElement(oe,{planets:r}))}))),se=function(){var e=Object(f.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("".concat("https://swapi.co/api").concat("/planets/","?search=").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){return{type:R.SEARCH_PLANETS_RESET}},le=function(){return{type:R.SEARCH_PLANETS_LIST_RESET}},pe=function(e,t){return function(r,a){var n=a().search,c=n.searchTimeStamp,o=n.searchTimes;if(""!==e){if("Luke Skywalker"!==t.userName&&!D(o,c))return r(ue()),void setTimeout((function(){return r(le())}),c+6e4-(new Date).getTime());r({type:R.SEARCH_PLANETS_INITIATE}),se(e).then((function(e){var t;r((t=e,{type:R.SEARCH_PLANETS_SUCCESS,payload:t}))})).catch((function(e){r({type:R.SEARCH_PLANETS_FAILURE})}))}else r(le())}};function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=[{exact:!0,path:"/",component:q},{exact:!0,path:"/search",component:Object(V.b)((function(e){return{planets:e.search.planets,isMaxSearchExeeded:e.search.isMaxSearchExeeded,isLoggedIn:e.app.isLoggedIn,currentUser:e.app.currentUser}}),(function(e){return{actions:Ee({},Object(B.bindActionCreators)(n,e),{},Object(B.bindActionCreators)(a,e))}}))(Object(c.memo)((function(e){var t=e.actions,r=t.onSearchPlanets,a=t.onLogoutUser,n=e.planets,c=e.isMaxSearchExeeded,i=e.isLoggedIn,s=e.currentUser;return o.a.createElement(ie,{onSearch:r,isMaxSearchExeeded:c,planets:n,isLoggedIn:i,onLogoutUser:a,currentUser:s})})))}],fe=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,null),o.a.createElement(l.a,{maxWidth:"md"},o.a.createElement(u.b,{history:y,forceRefresh:!0},de.map((function(e,t){return o.a.createElement(u.a,{key:t,exact:e.exact,path:e.path,component:e.component})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(238),r(239);var ge=r(112);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oe={isLoggedIn:!1,currentUser:{},isLoggedInError:!1},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case N.LOGIN_SUCCESS:return be({},e,{isLoggedIn:!0,currentUser:t.payload,isLoggedInError:!1});case N.LOGIN_FAILURE:return be({},e,{isLoggedIn:!1,currentUSer:{},isLoggedInError:!0});case N.LOGOUT_SUCCESS:return be({},e,{isLoggedIn:!1,currentUSer:{},isLoggedInError:!1});default:return be({},e)}};function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je={planets:[],searchTimeStamp:"",searchTimes:0,showLoader:!1,isMaxSearchExeeded:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case R.SEARCH_PLANETS_INITIATE:return ve({},e,{searchTimeStamp:0===e.searchTimes?(new Date).getTime():e.searchTimeStamp,searchTimes:e.searchTimes+1,showLoader:!0,isMaxSearchExeeded:!1});case R.SEARCH_PLANETS_SUCCESS:return ve({},e,{planets:t.payload,showLoader:!1});case R.SEARCH_PLANETS_FAILURE:return ve({},e,{showLoader:!1});case R.SEARCH_PLANETS_LIST_RESET:return ve({},e,{planets:[],isMaxSearchExeeded:!1});case R.SEARCH_PLANETS_RESET:return ve({},e,{searchTimeStamp:(new Date).getTime()-e.searchTimeStamp>6e4?"":e.searchTimeStamp,searchTimes:(new Date).getTime()-e.searchTimeStamp>6e4?0:e.searchTimes,isMaxSearchExeeded:!0});default:return ve({},e)}},Le=Object(B.combineReducers)({app:he,search:we}),Te=[ge.a],Pe=B.applyMiddleware.apply(void 0,Te);var Ce=Object(B.createStore)(Le,Pe);s.a.render(o.a.createElement(V.a,{store:Ce},o.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[126,1,2]]]);
//# sourceMappingURL=main.c8e76c75.chunk.js.map